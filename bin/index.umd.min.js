#!/usr/bin/env node
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("@babel/runtime/regenerator"),require("@babel/runtime/helpers/asyncToGenerator")):"function"==typeof define&&define.amd?define(["@babel/runtime/regenerator","@babel/runtime/helpers/asyncToGenerator"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)._regeneratorRuntime,e._asyncToGenerator)}(this,function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(e),o=n(t),a=require("fs"),i=require("chalk");var c=require("chalk"),s={success:function(e){return console.log(c.green.bold("\n ‚úÖ   ".concat(e,"\n")))},fail:function(e){return console.log(c.red.bold("\n ‚ùå   ".concat(e,"\n")))},info:function(e){return console.log(c.yellow("\n üåà   ".concat(e,"\n")))}},l=require("fs");require("commander");var u=require("download-git-repo"),d=require("ora"),p=require("handlebars");var _={"vue2+ts":{url:"https://github.com/13168335674/adi-cli-template-vue2-ts",downloadUrl:"https://github.com:13168335674/adi-cli-template-vue2-ts#main",description:"vue@2.6„ÄÅtypescript@3.9"},"vue3+ts2":{url:"https://github.com/13168335674/adi-cli-template-vue3-ts",downloadUrl:"https://github.com:13168335674/adi-cli-template-vue3-ts#main",description:"vue@3.x„ÄÅtypescript@3.9"},"vue2+vite":{url:"https://github.com/13168335674/js-module-demo",downloadUrl:"https://github.com:13168335674/js-module-demo#master",description:"vue@2.6„ÄÅvite@1.0-beta.3"}},f=require("inquirer");function m(){return(m=o.default(r.default.mark(function e(n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(n){return new Promise(function(t,e){a.exists(n,function(e){e?(console.log(i.red("The ".concat(n," folder already exists in the current directory. Please try to use another project name!"))),process.exit(1)):t("")})})}(n);case 2:f.prompt([{name:"templateType",message:"which template type you need to create?",type:"list",choices:Object.keys(_)},{name:"description",message:"please enter a description:",default:n},{name:"author",message:"please enter a author:",default:"author"}]).then(function(e){var r,o,a,t=_[e.templateType].downloadUrl;r=n,t=t,o=e,(a=d("downloading template...")).start(),u(t,r,{clone:!0},function(e){e&&(a.fail(),s.fail("".concat(e,"download template fail,please check your network connection and try again")),process.exit(1)),a.succeed();var t={name:r,description:o.description,author:o.author},n="".concat(r,"/package.json"),e=l.readFileSync(n).toString(),t=p.compile(e)(t);l.writeFileSync(n,t),s.success("".concat(r," project created!")),s.info("cd ".concat(r," && yarn install"))})});case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var h=new(require("cli-table"))({head:["name","description"],style:{head:["cyan"]}});function g(){var t,e;t=_,(e=Object.keys(t)).length?(e.forEach(function(e){h.push(["".concat(e),t[e].description])}),(e=h.toString())?(s.info("ÂΩìÂâçÊ®°ÊùøÂàóË°®: "),console.log("".concat(e,"\n"))):s.fail("Ê®°ÊùøÊñá‰ª∂‰∏çÂ≠òÂú®!")):s.fail("Ê®°ÊùøÊñá‰ª∂‰∏çÂ≠òÂú®!")}console.log("\n\n    ___    ____  ____   ________    ____\n   /   |  / __ /  _/  / ____/ /   /  _/\n  / /| | / / / // /   / /   / /    / /\n / ___ |/ /_/ // /   / /___/ /____/ /\n/_/  |_/_____/___/   ____/_____/___/\n\n");e=require("../package.json"),t=require("commander");t.version(e.version,"-v, --version"),t.command("create <projectName>").description("create project").alias("c").action(function(e){return function(){return m.apply(this,arguments)}(e)}),t.command("list").description("view the list of templates").alias("l").action(function(){g()}),t.parse(process.argv),t.args.length||t.help()});
