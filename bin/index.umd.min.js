#!/usr/bin/env node
!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";function s(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}var r=require("fs"),o=require("chalk");var t=require("chalk"),a={success:function(e){return console.log(t.green.bold("\n ‚úÖ   ".concat(e,"\n")))},fail:function(e){return console.log(t.red.bold("\n ‚ùå   ".concat(e,"\n")))},info:function(e){return console.log(t.yellow("\n üåà   ".concat(e,"\n")))}},u=require("fs"),l=(require("commander"),require("download-git-repo")),p=require("ora"),_=require("handlebars");var d={"vue2+ts":{url:"https://github.com/13168335674/adi-cli-template-vue2-ts",downloadUrl:"https://github.com:13168335674/adi-cli-template-vue2-ts#main",description:"vue@2.6„ÄÅtypescript@3.9"},"vue3+ts2":{url:"https://github.com/13168335674/adi-cli-template-vue3-ts",downloadUrl:"https://github.com:13168335674/adi-cli-template-vue3-ts#main",description:"vue@3.x„ÄÅtypescript@3.9"},"vue2+vite":{url:"https://github.com/13168335674/js-module-demo",downloadUrl:"https://github.com:13168335674/js-module-demo#master",description:"vue@2.6„ÄÅvite@1.0-beta.3"}},i=require("inquirer");function n(){var c;return c=regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(n){return new Promise(function(t,e){r.exists(n,function(e){e?(console.log(o.red("The ".concat(n," folder already exists in the current directory. Please try to use another project name!"))),process.exit(1)):t("")})})}(n);case 2:i.prompt([{name:"templateType",message:"which template type you need to create?",type:"list",choices:Object.keys(d)},{name:"description",message:"please enter a description:",default:n},{name:"author",message:"please enter a author:",default:"author"}]).then(function(e){var r,o,i,t=d[e.templateType].downloadUrl;r=n,t=t,o=e,(i=p("downloading template...")).start(),l(t,r,{clone:!0},function(e){e&&(i.fail(),a.fail("".concat(e,"download template fail,please check your network connection and try again")),process.exit(1)),i.succeed();var t={name:r,description:o.description,author:o.author},n="".concat(r,"/package.json"),e=u.readFileSync(n).toString(),t=_.compile(e)(t);u.writeFileSync(n,t),a.success("".concat(r," project created!")),a.info("cd ".concat(r," && yarn install"))})});case 3:case"end":return e.stop()}},e)}),(n=function(){var e=this,a=arguments;return new Promise(function(t,n){var r=c.apply(e,a);function o(e){s(r,t,n,o,i,"next",e)}function i(e){s(r,t,n,o,i,"throw",e)}o(void 0)})}).apply(this,arguments)}var c=new(require("cli-table"))({head:["name","description"],style:{head:["cyan"]}});function e(){var t,e;t=d,(e=Object.keys(t)).length?(e.forEach(function(e){c.push(["".concat(e),t[e].description])}),(e=c.toString())?(a.info("ÂΩìÂâçÊ®°ÊùøÂàóË°®: "),console.log("".concat(e,"\n"))):a.fail("Ê®°ÊùøÊñá‰ª∂‰∏çÂ≠òÂú®!")):a.fail("Ê®°ÊùøÊñá‰ª∂‰∏çÂ≠òÂú®!")}console.log("\n\n    ___    ____  ____   ________    ____\n   /   |  / __ /  _/  / ____/ /   /  _/\n  / /| | / / / // /   / /   / /    / /\n / ___ |/ /_/ // /   / /___/ /____/ /\n/_/  |_/_____/___/   ____/_____/___/\n\n");var m=require("../package.json"),f=require("commander");f.version(m.version,"-v, --version"),f.command("create <projectName>").description("create project").alias("c").action(function(e){return function(){return n.apply(this,arguments)}(e)}),f.command("list").description("view the list of templates").alias("l").action(function(){e()}),f.parse(process.argv),f.args.length||f.help()});
